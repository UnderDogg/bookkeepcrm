{"version":3,"sources":["updater.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"updater.js","sourcesContent":[";(function (window) {\n    'use strict';\n\n    // Uploader Constructor\n    function Updater() {\n        this._init();\n    }\n\n    // Updater\n    Updater.prototype = {\n        _init: function () {\n            this.el = $('#updateIndicator');\n            this.progressBar = $('#updateProgress');\n            this.progressMessage = $('#updateMessage');\n\n            this.starturl = this.el.data('starturl');\n            this.completeurl = this.el.data('completeurl');\n\n            this._start();\n        },\n        _start: function () {\n            this._request(this.starturl);\n        },\n        _next: function (data) {\n            this.progressMessage.text(data.message);\n\n            if (data.next) {\n                this._request(data.next);\n            } else {\n                this._complete();\n            }\n        },\n        _request: function (requestURL) {\n            var self = this;\n\n            $.post(requestURL, function (response) {\n                self._setProgress(response.progress);\n\n                self._next(response);\n            });\n        },\n        _setProgress: function (percent) {\n            this.progressBar.width(percent.toString() + \"%\");\n        },\n        _complete: function () {\n            window.location = this.completeurl;\n        }\n    };\n\n    // Register updater to the window namespace\n    window.Updater = Updater;\n\n})(window);\n\nvar updater = new Updater();"],"sourceRoot":"/source/"}