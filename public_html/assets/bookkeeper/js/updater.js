!function(t){"use strict";function s(){this._init()}s.prototype={_init:function(){this.el=$("#updateIndicator"),this.progressBar=$("#updateProgress"),this.progressMessage=$("#updateMessage"),this.starturl=this.el.data("starturl"),this.completeurl=this.el.data("completeurl"),this._start()},_start:function(){this._request(this.starturl)},_next:function(t){this.progressMessage.text(t.message),t.next?this._request(t.next):this._complete()},_request:function(t){var s=this;$.post(t,function(t){s._setProgress(t.progress),s._next(t)})},_setProgress:function(t){this.progressBar.width(t.toString()+"%")},_complete:function(){t.location=this.completeurl}},t.Updater=s}(window);var updater=new Updater;